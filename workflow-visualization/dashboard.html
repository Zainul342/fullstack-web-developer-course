<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Focus-Tracker: Visualisasi interaktif workflow AI Coding 2026">

    <title>AI Coding Workflow 2026 | Focus-Tracker</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">

        <!-- ========== HEADER ========== -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo">
                    <svg class="logo-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <path
                            d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z" />
                        <path
                            d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z" />
                        <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0" />
                        <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5" />
                    </svg>
                    AI Workflow
                </h1>
                <span class="badge">2026</span>
            </div>

            <div class="header-center">
                <div class="search-box">
                    <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8" />
                        <path d="m21 21-4.3-4.3" />
                    </svg>
                    <input type="text" id="search-input" class="search-input"
                        placeholder="Cari topik (misal: MCP, Rules...)" aria-label="Search topics">
                </div>
            </div>

            <div class="header-right">
                <button id="toggle-overview" class="btn btn-secondary" aria-label="Toggle Overview Mode">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                        <circle cx="12" cy="12" r="3" />
                    </svg>
                    Overview
                </button>
                <button id="export-btn" class="btn btn-secondary" aria-label="Export Progress">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" x2="12" y1="3" y2="15" />
                    </svg>
                    Export
                </button>
                <input type="file" id="import-input" accept=".json" hidden>
                <button id="import-btn" class="btn btn-secondary" aria-label="Import Progress">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="7 10 12 15 17 10" />
                        <line x1="12" x2="12" y1="15" y2="3" />
                    </svg>
                    Import
                </button>
            </div>
        </header>

        <!-- ========== PROGRESS BAR ========== -->
        <div class="progress-container">
            <div class="progress-info">
                <span id="progress-text">0 dari 47 tugas selesai</span>
                <span id="progress-percent">0%</span>
            </div>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
            </div>
        </div>

        <!-- ========== MAIN LAYOUT ========== -->
        <main class="main-layout">

            <!-- Sidebar Minimap -->
            <aside class="sidebar" aria-label="Phase Navigation">
                <nav class="minimap">
                    <div class="minimap-title">Phases</div>
                    <ul class="minimap-list" id="minimap-list">
                        <!-- Dynamically populated by JS -->
                    </ul>
                </nav>
            </aside>

            <!-- Content Area -->
            <section class="content-area" id="content-area" aria-label="Workflow Phases">

                <!-- Phase Cards will be rendered here by JS -->
                <!-- Example static structure for reference: -->
                <!--
                <article class="phase-card active" data-phase-id="0">
                    <div class="card-header">
                        <div class="card-number">01</div>
                        <div class="card-title-group">
                            <h2 class="card-title">Persiapan Alat Tempur</h2>
                            <p class="card-description">Siapkan environment sebelum coding.</p>
                        </div>
                        <div class="card-status">
                            <span class="status-badge in-progress">In Progress</span>
                        </div>
                    </div>
                    
                    <div class="card-body">
                        <ul class="task-list">
                            <li class="task-item">
                                <label class="task-label">
                                    <input type="checkbox" class="task-checkbox" data-task-id="p0-t1">
                                    <span class="custom-checkbox"></span>
                                    <span class="task-text">Pilih & Install IDE AI</span>
                                </label>
                                <button class="task-info-btn" aria-label="More info">ℹ️</button>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="card-footer">
                        <button class="btn btn-primary next-step-btn">
                            Lanjut ke Step Berikutnya →
                        </button>
                    </div>
                </article>
                -->

                <!-- Loading State -->
                <div id="loading-state" class="loading-state">
                    <div class="spinner"></div>
                    <p>Memuat workflow...</p>
                </div>

                <!-- Empty State (when search has no results) -->
                <div id="empty-state" class="empty-state hidden">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10" />
                        <path d="M16 16s-1.5-2-4-2-4 2-4 2" />
                        <line x1="9" x2="9.01" y1="9" y2="9" />
                        <line x1="15" x2="15.01" y1="9" y2="9" />
                    </svg>
                    <p>Tidak ada hasil untuk "<span id="empty-query"></span>"</p>
                    <button class="btn btn-secondary" id="clear-search">Hapus Pencarian</button>
                </div>

            </section>

        </main>

        <!-- ========== PREVIEW TOOLTIP (for hover-to-peek) ========== -->
        <div id="preview-tooltip" class="preview-tooltip hidden" role="tooltip">
            <h4 id="preview-title"></h4>
            <ul id="preview-tasks"></ul>
        </div>

        <!-- ========== CELEBRATION MODAL ========== -->
        <div id="celebration-modal" class="modal hidden" role="dialog" aria-modal="true">
            <div class="modal-content">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="color: var(--accent-primary); margin-bottom: 1rem;">
                    <path d="M5.8 11.3 2 22l10.7-3.79" />
                    <path d="M4 3h.01" />
                    <path d="M22 8h.01" />
                    <path d="M15 2h.01" />
                    <path d="M22 20h.01" />
                    <path
                        d="m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10" />
                    <path d="m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17" />
                    <path d="m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7" />
                    <path
                        d="M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z" />
                </svg>
                <h2>Selamat!</h2>
                <p>Kamu telah menyelesaikan seluruh workflow!</p>
                <div class="modal-actions">
                    <button id="reset-progress" class="btn btn-secondary">Reset & Mulai Ulang</button>
                    <button id="close-modal" class="btn btn-primary">Tutup</button>
                </div>
            </div>
        </div>

        <!-- ========== SIDE PANEL (Task Details) ========== -->
        <aside id="side-panel" class="side-panel hidden" aria-label="Task Details">

            <!-- Panel Header -->
            <div class="panel-header-group">
                <div class="panel-top-controls">
                    <div class="panel-tabs">
                        <button class="panel-tab active" id="tab-panduan">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <path
                                    d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
                            </svg>
                            Panduan
                        </button>
                        <button class="panel-tab" id="tab-ai-tutor">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M12 8V4H8" />
                                <rect width="16" height="12" x="4" y="8" rx="2" />
                                <path d="M2 14h2" />
                                <path d="M20 14h2" />
                                <path d="M15 13v2" />
                                <path d="M9 13v2" />
                            </svg>
                            AI Tutor
                        </button>
                    </div>
                    <div class="panel-actions">
                        <select id="panel-status-select" class="status-select">
                            <option value="pending">◯ Pending</option>
                            <option value="in-progress">◐ In Progress</option>
                            <option value="done">● Done</option>
                            <option value="skip">⊘ Skip</option>
                        </select>
                        <button id="close-panel" class="btn-icon-small" aria-label="Close">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M18 6L6 18M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Panduan Content -->
            <div class="panel-scroll-content" id="panduan-content">
                <h2 id="panel-title" class="panel-title">Task Title</h2>
                <div id="panel-description" class="panel-description">
                    <!-- Rich content populated by JS -->
                </div>

                <!-- Resources Section -->
                <div class="resource-section" id="resources-section">
                    <div class="section-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                        </svg>
                        Sumber Belajar
                    </div>
                    <div id="panel-resources" class="resource-list-v2">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>

            <!-- AI Tutor Content -->
            <div class="ai-tutor-container hidden" id="ai-tutor-content">
                <!-- Chat Messages -->
                <div class="chat-messages" id="chat-messages">
                    <div class="chat-bubble ai">
                        <div class="bubble-avatar">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M12 8V4H8" />
                                <rect width="16" height="12" x="4" y="8" rx="2" />
                                <path d="M2 14h2" />
                                <path d="M20 14h2" />
                                <path d="M15 13v2" />
                                <path d="M9 13v2" />
                            </svg>
                        </div>
                        <div class="bubble-content">
                            <p>Halo! Saya AI Tutor yang siap membantu kamu belajar AI Coding.</p>
                            <p>Tanya apapun tentang task yang sedang kamu pelajari!</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Prompts -->
                <div class="quick-prompts" id="quick-prompts">
                    <!-- Populated by JS -->
                </div>

                <!-- Chat Input -->
                <div class="chat-input-area">
                    <input type="text" id="chat-input" class="chat-input" placeholder="Ketik pertanyaan..."
                        autocomplete="off">
                    <button id="send-chat-btn" class="btn btn-primary send-btn" aria-label="Send">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="panel-footer-fixed">
                <p class="footer-hint">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10" />
                        <path d="M12 16v-4M12 8h.01" />
                    </svg>
                    Ubah status di dropdown atas untuk tracking progress
                </p>
            </div>
        </aside>

        <!-- ========== TOAST NOTIFICATION ========== -->
        <div id="toast" class="toast hidden" role="alert">
            <span id="toast-message"></span>
        </div>

    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="ai-tutor.js"></script>
    <script src="script.js"></script>
</body>

</html>